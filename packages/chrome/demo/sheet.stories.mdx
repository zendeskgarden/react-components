import { Meta, ArgsTable, Canvas, Story } from '@storybook/addon-docs';
import { useArgs } from '@storybook/client-api';
import { Sheet } from '@zendeskgarden/react-chrome';
import { SheetStory } from './stories/SheetStory';
import {
  SHEET_BODY as BODY,
  SHEET_DESCRIPTION as DESCRIPTION,
  SHEET_FOOTER_ITEMS as FOOTER_ITEMS,
  SHEET_TITLE as TITLE
} from './stories/data';

<Meta
  title="Packages/Chrome/Sheet"
  component={Sheet}
  subcomponents={{
    'Sheet.Body': Sheet.Body,
    'Sheet.Close': Sheet.Close,
    'Sheet.Description': Sheet.Description,
    'Sheet.Footer': Sheet.Footer,
    'Sheet.FooterItem': Sheet.FooterItem,
    'Sheet.Header': Sheet.Header,
    'Sheet.Title': Sheet.Title
  }}
/>

# API

<ArgsTable />

# Demo

<Canvas>
  <Story
    name="Sheet"
    args={{
      isAnimated: true,
      debug: true,
      hasBody: true,
      body: BODY,
      hasClose: true,
      hasFooter: true,
      hasHeader: true,
      title: TITLE,
      description: DESCRIPTION,
      footerItems: FOOTER_ITEMS
    }}
    argTypes={{
      debug: { name: 'Grid debug', table: { category: 'Story' } },
      hasBody: { name: 'Sheet.Body', table: { category: 'Story' } },
      hasClose: { name: 'Sheet.Close', table: { category: 'Story' } },
      hasFooter: { name: 'Sheet.Footer', table: { category: 'Story' } },
      hasHeader: { name: 'Sheet.Header', table: { category: 'Story' } },
      footerItems: { name: 'Sheet.FooterItem[]', table: { category: 'Story' } },
      body: { name: 'children', table: { category: 'Sheet.Body' } },
      title: { name: 'children', table: { category: 'Sheet.Title' } },
      description: { name: 'children', table: { category: 'Sheet.Description' } },
      isCompact: { control: 'boolean', table: { category: 'Sheet.Footer' } }
    }}
  >
    {args => {
      const updateArgs = useArgs()[1];
      const handleChange = () => updateArgs({ isOpen: !args.isOpen });
      const handleClick = () => updateArgs({ isOpen: false });
      return <SheetStory {...args} onChange={handleChange} onClick={handleClick} />;
    }}
  </Story>
</Canvas>
